<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="./assets/favicon.PNG" />
    <title>SSAFIT</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    />
    <link rel="stylesheet" href="./css/main.css" />
  </head>
  <body>
    <div id="alert-message"></div>

    <nav class="navbar navbar-expand-lg bg-white sticky-top">
      <div class="container">
        <a class="navbar-brand" href="index.html">SSAFIT</a>
        <div id="navbar-auth-buttons" class="d-flex ms-auto"></div>
      </div>
    </nav>

    <div id="pages-container" class="container mt-4">
      <div id="main-page">
        <div class="hero-section rounded-3">
          <h1 class="display-4 fw-bold">운동을 시작해보세요!</h1>
        </div>

        <div class="search-container">
          <div class="input-group">
            <input
              type="text"
              id="search-input"
              class="form-control rounded-pill"
              placeholder="운동 영상을 검색하세요..."
            />
            <button
              id="search-button"
              class="btn btn-primary rounded-pill ms-2"
              type="button"
            >
              검색
            </button>
          </div>
        </div>

        <div class="d-flex justify-content-end mb-4">
          <button class="btn btn-success rounded-pill" id="add-video-btn">
            <i class="fas fa-plus me-2"></i>새 영상 등록
          </button>
        </div>

        <h2 class="mb-4">최근 가장 많이 본 영상</h2>
        <div
          id="most-viewed-list"
          class="row row-cols-1 row-cols-md-3 g-4 mb-5"
        ></div>
        <h2 class="mb-4">운동 부위별 영상</h2>
        <div class="d-flex justify-content-center mb-4">
          <button
            class="btn btn-category rounded-pill active"
            data-category="all"
          >
            전신
          </button>
          <button class="btn btn-category rounded-pill" data-category="upper">
            상체
          </button>
          <button class="btn btn-category rounded-pill" data-category="lower">
            하체
          </button>
          <button class="btn btn-category rounded-pill" data-category="abs">
            복부
          </button>
        </div>
        <div
          id="category-video-list"
          class="row row-cols-1 row-cols-md-3 g-4 mb-5"
        ></div>
      </div>
    </div>

    <div
      class="modal fade"
      id="reviewModal"
      tabindex="-1"
      aria-labelledby="reviewModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered modal-xl">
        <div class="modal-content rounded-4 shadow-lg">
          <div class="modal-header border-0">
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body p-5">
            <div id="review-content-container">
              <div id="modal-review-list-view" class="page">
                <h1 id="modal-video-title" class="mb-4"></h1>
                <div
                  class="embed-responsive embed-responsive-16by9 rounded-3 mb-4"
                >
                  <iframe
                    id="modal-video-player"
                    class="embed-responsive-item"
                    src=""
                    allowfullscreen
                  ></iframe>
                </div>
                <hr />
                <div
                  class="d-flex justify-content-between align-items-center mb-3"
                >
                  <h3>사용자 리뷰</h3>
                  <div class="d-flex">
                    <input
                      type="text"
                      id="modal-review-search-input"
                      class="form-control rounded-pill"
                      placeholder="리뷰 검색"
                    />
                    <button
                      id="modal-review-search-button"
                      class="btn btn-outline-secondary rounded-pill ms-2"
                      type="button"
                    >
                      검색
                    </button>
                    <button
                      class="btn btn-primary rounded-pill ms-2"
                      onclick="window.startWriteReview()"
                    >
                      글 작성
                    </button>
                  </div>
                </div>
                <ul
                  id="modal-review-list"
                  class="list-group list-group-flush mb-4"
                ></ul>
              </div>
              <div id="modal-review-detail-view" class="page d-none">
                <h1 id="modal-detail-title" class="mb-4"></h1>
                <div class="d-flex justify-content-end mb-3">
                  <button
                    class="btn btn-outline-secondary rounded-pill me-2"
                    onclick="window.showReviewContent('review-list')"
                  >
                    목록
                  </button>
                  <button
                    class="btn btn-outline-warning rounded-pill me-2"
                    onclick="window.startEditReview()"
                  >
                    수정
                  </button>
                  <button
                    class="btn btn-outline-danger rounded-pill"
                    data-bs-toggle="modal"
                    data-bs-target="#deleteConfirmModal"
                  >
                    삭제
                  </button>
                </div>
                <div class="card p-4 mb-4 rounded-3 shadow-sm">
                  <p>
                    <strong>작성자:</strong>
                    <span id="modal-detail-author"></span>
                  </p>
                  <p>
                    <strong>조회수:</strong>
                    <span id="modal-detail-views"></span>
                  </p>
                  <p>
                    <strong>작성 시간:</strong>
                    <span id="modal-detail-date"></span>
                  </p>
                  <hr />
                  <p id="modal-detail-content"></p>
                </div>
              </div>
              <div id="modal-write-review-view" class="page d-none">
                <h2 id="modal-form-title" class="mb-4">리뷰 작성</h2>
                <form id="modal-review-form">
                  <div class="mb-3">
                    <label for="modalReviewTitle" class="form-label"
                      >제목</label
                    >
                    <input
                      type="text"
                      class="form-control rounded-pill"
                      id="modalReviewTitle"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <label for="modalReviewContent" class="form-label"
                      >내용</label
                    >
                    <textarea
                      class="form-control rounded-3"
                      id="modalReviewContent"
                      rows="5"
                      required
                    ></textarea>
                  </div>
                  <div class="d-flex justify-content-end">
                    <button
                      type="submit"
                      class="btn btn-primary rounded-pill me-2"
                    >
                      등록
                    </button>
                    <button
                      type="button"
                      class="btn btn-outline-secondary rounded-pill"
                      onclick="window.cancelReviewForm()"
                    >
                      취소
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div
      class="modal fade"
      id="deleteConfirmModal"
      tabindex="-1"
      aria-labelledby="deleteConfirmModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-sm modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header border-0">
            <h5 class="modal-title" id="deleteConfirmModalLabel">삭제 확인</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body text-center">
            정말로 이 리뷰를 삭제하시겠습니까?
          </div>
          <div class="modal-footer d-flex justify-content-center border-0">
            <button
              type="button"
              class="btn btn-secondary rounded-pill"
              data-bs-dismiss="modal"
            >
              취소
            </button>
            <button
              type="button"
              class="btn btn-danger rounded-pill"
              id="confirmDeleteBtn"
            >
              삭제
            </button>
          </div>
        </div>
      </div>
    </div>

    <div
      class="modal fade"
      id="addVideoModal"
      tabindex="-1"
      aria-labelledby="addVideoModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-4 shadow-lg">
          <div class="modal-header border-0">
            <h5 class="modal-title fw-bold" id="addVideoModalLabel">
              새 영상 등록
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body p-4">
            <form id="add-video-form">
              <div class="mb-3">
                <label for="videoUrl" class="form-label">유튜브 URL</label>
                <input
                  type="url"
                  class="form-control rounded-pill"
                  id="videoUrl"
                  placeholder="https://www.youtube.com/watch?v=..."
                  required
                />
              </div>
              <div class="mb-3">
                <label for="videoTitle" class="form-label">영상 제목</label>
                <input
                  type="text"
                  class="form-control rounded-pill"
                  id="videoTitle"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="videoChannel" class="form-label">채널 이름</label>
                <input
                  type="text"
                  class="form-control rounded-pill"
                  id="videoChannel"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="videoPart" class="form-label">운동 부위</label>
                <select
                  class="form-select rounded-pill"
                  id="videoPart"
                  required
                >
                  <option value="전신">전신</option>
                  <option value="상체">상체</option>
                  <option value="하체">하체</option>
                  <option value="복부">복부</option>
                </select>
              </div>
              <div class="d-grid gap-2 mt-4">
                <button type="submit" class="btn btn-primary rounded-pill">
                  등록하기
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./js/data.js"></script>
    <script src="./js/common.js"></script>
    <script src="./js/main.js"></script>
  </body>
</html>
